 Guía de Especificación para la IA de DesarrolloObjetivo: Desarrollar la función de exportación de Nómina de Trabajadores de Largo Variable para PREVIRED, utilizando la información contenida en el software de remuneraciones.I. Requisitos de Estructura y FormatoAspectoRegla de ImplementaciónFormato y ExtensiónArchivo de texto plano (TXT o CSV).SeparadorUtilizar el punto y coma (;) como único separador entre los 105 campos.Orden y Total de CamposEl archivo debe contener exactamente 105 campos en el orden estricto del formato.Llenado de Campos (Valor nulo)Si un campo no aplica: Campos Numéricos deben llenarse con 0 (cero). Campos Alfanuméricos deben llenarse con Blancos (espacios). NINGÚN CAMPO DEBE OMITIRSE.Líneas (Registros)Cada línea representa un trabajador (o una línea especial, como un segundo contrato, según el campo 14).II. Matriz de Datos y Lógica (Extracto de Campos Críticos)La IA debe mapear la información de la base de datos de remuneraciones a los campos, aplicando la siguiente lógica de validación:Campo N°Nombre del CampoTipo de Dato / Longitud Máx.Condición / Lógica Clave1RUT TrabajadorNumérico (11)Obligatorio. Debe pasar Módulo 11.2DV TrabajadorAlfanumérico (1)Obligatorio. Dígito verificador del RUT.11Régimen PrevisionalAlfanumérico (3)Obligatorio. Usar códigos (e.g., AFP, INP, SIP).13Días TrabajadosNumérico (2)Obligatorio. $0 \le \text{Días} \le 30$.14Tipo de LíneaAlfanumérico (2)Obligatorio. 00 (Línea Principal) o 01, 02, 03 (Líneas Especiales, ver Tabla N°6).27Renta Imponible AFPNumérico (8)Condicional. Obligatorio si cotiza en AFP y días trabajados > 0. Renta proporcional a los días trabajados.28Cotización Obligatoria AFPNumérico (8)Condicional. Monto calculado según Renta Imponible AFP.70Cotización FonasaNumérico (8)Condicional. Obligatorio si está en Fonasa. Debe ser el 7% de la Renta Imponible IPS (Campo 64).75Código Institución de SaludNumérico (2)Condicional. Obligatorio si cotiza para salud (Usar código 07 para Fonasa).83Código CCAFNumérico (2)Condicional. Obligatorio para todos los trabajadores si la empresa está adherida a una CCAF.90Cotización a CCAF de no afiliados a IsapresNumérico (8)Condicional. Obligatoria si el trabajador cotiza a Fonasa (75 = 07) y la empresa tiene CCAF. Se calcula con el 6.45% de la Renta Imponible CCAF (Campo 84).101Aporte Trabajador Seguro CesantiaNumérico (8)Condicional. Obligatorio si el trabajador está afiliado al Seguro de Cesantía (SC).III. Lógica de Manejo de Errores y Datos FaltantesLa IA debe priorizar la detección y reporte de datos faltantes o inválidos antes de generar la línea para el archivo, siguiendo el espíritu de la columna "Errores Graves" del PDF.Validación Previa por Registro: Antes de escribir una línea en el archivo TXT, la IA debe validar que todos los campos marcados como "Obligatorio" contengan un valor.Validación Condicional: La IA debe verificar la lógica de los campos "Condicionales". Por ejemplo, si el Régimen Previsional (Campo 11) es AFP, los campos de AFP (26 a 29) deben ser Obligatorios y contener valores calculados.Mecanismo de Alerta (Reporte): Si un valor esencial falta o es incorrecto (según las validaciones del documento, como un Rut no válido o un valor numérico negativo), la IA debe detener la generación del registro para ese trabajador y generar una entrada en un Reporte de Errores.Formato del Reporte de Alertas Requerido:Trabajador (RUT)Campo N°Nombre del CampoDescripción del Error/Motivo de Rechazo12.345.678-927Renta Imponible AFPDato faltante (Obligatorio): Régimen es AFP, pero la Renta Imponible es 0.98.765.432-113Días TrabajadosError de Formato: Valor '35' no válido. El máximo es 30.Esta estructura le permitirá a tu IA procesar la información de los trabajadores, intentar aplicar la lógica de cálculo y llenado, y lo más importante, avisar con precisión qué dato debe corregir en el software antes de generar el archivo final para Previred.