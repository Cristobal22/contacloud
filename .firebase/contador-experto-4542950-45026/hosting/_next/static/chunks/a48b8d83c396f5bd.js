(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(75157);let l=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("div",{ref:l,className:(0,t.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));l.displayName="Card";let d=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("div",{ref:l,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",e),...r}));d.displayName="CardHeader";let s=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("div",{ref:l,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));s.displayName="CardTitle";let i=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("div",{ref:l,className:(0,t.cn)("text-sm text-muted-foreground",e),...r}));i.displayName="CardDescription";let o=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("div",{ref:l,className:(0,t.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent";let c=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("div",{ref:l,className:(0,t.cn)("flex items-center p-6 pt-0",e),...r}));c.displayName="CardFooter",e.s(["Card",()=>l,"CardContent",()=>o,"CardDescription",()=>i,"CardFooter",()=>c,"CardHeader",()=>d,"CardTitle",()=>s])},84774,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(75157);let l=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:l,className:(0,t.cn)("w-full caption-bottom text-sm",e),...r})}));l.displayName="Table";let d=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("thead",{ref:l,className:(0,t.cn)("[&_tr]:border-b",e),...r}));d.displayName="TableHeader";let s=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("tbody",{ref:l,className:(0,t.cn)("[&_tr:last-child]:border-0",e),...r}));s.displayName="TableBody";let i=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("tfoot",{ref:l,className:(0,t.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));i.displayName="TableFooter";let o=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("tr",{ref:l,className:(0,t.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));o.displayName="TableRow";let c=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("th",{ref:l,className:(0,t.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));c.displayName="TableHead";let n=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("td",{ref:l,className:(0,t.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));n.displayName="TableCell",r.forwardRef(({className:e,...r},l)=>(0,a.jsx)("caption",{ref:l,className:(0,t.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption",e.s(["Table",()=>l,"TableBody",()=>s,"TableCell",()=>n,"TableFooter",()=>i,"TableHead",()=>c,"TableHeader",()=>d,"TableRow",()=>o])},56590,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(84774),l=e.i(15288);e.i(11981);var d=e.i(80428),s=e.i(39126);function i(){let{selectedCompany:e}=r.default.useContext(s.SelectedCompanyContext)||{},i=e?.id,{data:o,loading:c}=(0,d.useCollection)({path:`companies/${i}/vouchers`,companyId:i}),{data:n,loading:m}=(0,d.useCollection)({path:`companies/${i}/accounts`,companyId:i}),b=r.default.useMemo(()=>{if(!o||!n)return[];let e=new Map(n.map(e=>[e.code,e.name])),a=[];return o.forEach(r=>{"Contabilizado"===r.status&&r.entries.forEach((t,l)=>{a.push({id:`${r.id}-${l}`,date:r.date,accountCode:t.account,accountName:e.get(t.account)||"Cuenta no encontrada",description:t.description||r.description,debit:Number(t.debit)||0,credit:Number(t.credit)||0})})}),a.sort((e,a)=>new Date(e.date).getTime()-new Date(a.date).getTime())},[o,n]),f=c||m;return(0,a.jsxs)(l.Card,{children:[(0,a.jsxs)(l.CardHeader,{children:[(0,a.jsx)(l.CardTitle,{children:"Libro Diario"}),(0,a.jsx)(l.CardDescription,{children:"Consulta los movimientos en el libro diario para la empresa seleccionada."})]}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)(t.Table,{children:[(0,a.jsx)(t.TableHeader,{children:(0,a.jsxs)(t.TableRow,{children:[(0,a.jsx)(t.TableHead,{children:"Fecha"}),(0,a.jsx)(t.TableHead,{children:"Cuenta"}),(0,a.jsx)(t.TableHead,{children:"DescripciÃ³n"}),(0,a.jsx)(t.TableHead,{className:"text-right",children:"Debe"}),(0,a.jsx)(t.TableHead,{className:"text-right",children:"Haber"})]})}),(0,a.jsxs)(t.TableBody,{children:[f&&(0,a.jsx)(t.TableRow,{children:(0,a.jsx)(t.TableCell,{colSpan:5,className:"text-center",children:"Cargando..."})}),!f&&b.map(e=>(0,a.jsxs)(t.TableRow,{children:[(0,a.jsx)(t.TableCell,{children:new Date(e.date).toLocaleDateString("es-CL",{timeZone:"UTC"})}),(0,a.jsxs)(t.TableCell,{children:[e.accountCode," - ",e.accountName]}),(0,a.jsx)(t.TableCell,{children:e.description}),(0,a.jsx)(t.TableCell,{className:"text-right",children:e.debit>0?`$${Math.round(e.debit).toLocaleString("es-CL")}`:"$0"}),(0,a.jsx)(t.TableCell,{className:"text-right",children:e.credit>0?`$${Math.round(e.credit).toLocaleString("es-CL")}`:"$0"})]},e.id)),!f&&0===b.length&&(0,a.jsx)(t.TableRow,{children:(0,a.jsx)(t.TableCell,{colSpan:5,className:"text-center",children:i?"No hay movimientos en el libro diario para esta empresa.":"Selecciona una empresa para ver el libro diario."})})]})]})})]})}e.s(["default",()=>i])}]);