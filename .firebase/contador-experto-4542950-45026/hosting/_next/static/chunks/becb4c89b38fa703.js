(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41071,e=>{"use strict";let a=(0,e.i(75254).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>a],41071)},68499,e=>{"use strict";var a=e.i(43476),r=e.i(71645),l=e.i(30030),t=e.i(20783),s=e.i(26999),i=e.i(81140),o=e.i(91918),n="AlertDialog",[d,c]=(0,l.createContextScope)(n,[s.createDialogScope]),u=(0,s.createDialogScope)(),m=e=>{let{__scopeAlertDialog:r,...l}=e,t=u(r);return(0,a.jsx)(s.Root,{...t,...l,modal:!0})};m.displayName=n;var p=r.forwardRef((e,r)=>{let{__scopeAlertDialog:l,...t}=e,i=u(l);return(0,a.jsx)(s.Trigger,{...i,...t,ref:r})});p.displayName="AlertDialogTrigger";var x=e=>{let{__scopeAlertDialog:r,...l}=e,t=u(r);return(0,a.jsx)(s.Portal,{...t,...l})};x.displayName="AlertDialogPortal";var h=r.forwardRef((e,r)=>{let{__scopeAlertDialog:l,...t}=e,i=u(l);return(0,a.jsx)(s.Overlay,{...i,...t,ref:r})});h.displayName="AlertDialogOverlay";var g="AlertDialogContent",[f,j]=d(g),N=(0,o.createSlottable)("AlertDialogContent"),y=r.forwardRef((e,l)=>{let{__scopeAlertDialog:o,children:n,...d}=e,c=u(o),m=r.useRef(null),p=(0,t.useComposedRefs)(l,m),x=r.useRef(null);return(0,a.jsx)(s.WarningProvider,{contentName:g,titleName:b,docsSlug:"alert-dialog",children:(0,a.jsx)(f,{scope:o,cancelRef:x,children:(0,a.jsxs)(s.Content,{role:"alertdialog",...c,...d,ref:p,onOpenAutoFocus:(0,i.composeEventHandlers)(d.onOpenAutoFocus,e=>{e.preventDefault(),x.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,a.jsx)(N,{children:n}),(0,a.jsx)(R,{contentRef:m})]})})})});y.displayName=g;var b="AlertDialogTitle",v=r.forwardRef((e,r)=>{let{__scopeAlertDialog:l,...t}=e,i=u(l);return(0,a.jsx)(s.Title,{...i,...t,ref:r})});v.displayName=b;var C="AlertDialogDescription",D=r.forwardRef((e,r)=>{let{__scopeAlertDialog:l,...t}=e,i=u(l);return(0,a.jsx)(s.Description,{...i,...t,ref:r})});D.displayName=C;var w=r.forwardRef((e,r)=>{let{__scopeAlertDialog:l,...t}=e,i=u(l);return(0,a.jsx)(s.Close,{...i,...t,ref:r})});w.displayName="AlertDialogAction";var T="AlertDialogCancel",A=r.forwardRef((e,r)=>{let{__scopeAlertDialog:l,...i}=e,{cancelRef:o}=j(T,l),n=u(l),d=(0,t.useComposedRefs)(r,o);return(0,a.jsx)(s.Close,{...n,...i,ref:d})});A.displayName=T;var R=({contentRef:e})=>{let a=`\`${g}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${g}\` by passing a \`${C}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${g}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(a)},[a,e]),null},S=e.i(75157),E=e.i(19455);let F=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)(h,{className:(0,S.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:l}));F.displayName=h.displayName;let I=r.forwardRef(({className:e,...r},l)=>(0,a.jsxs)(x,{children:[(0,a.jsx)(F,{}),(0,a.jsx)(y,{ref:l,className:(0,S.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r})]}));I.displayName=y.displayName;let M=({className:e,...r})=>(0,a.jsx)("div",{className:(0,S.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...r});M.displayName="AlertDialogHeader";let H=({className:e,...r})=>(0,a.jsx)("div",{className:(0,S.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});H.displayName="AlertDialogFooter";let P=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)(v,{ref:l,className:(0,S.cn)("text-lg font-semibold",e),...r}));P.displayName=v.displayName;let k=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)(D,{ref:l,className:(0,S.cn)("text-sm text-muted-foreground",e),...r}));k.displayName=D.displayName;let z=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)(w,{ref:l,className:(0,S.cn)((0,E.buttonVariants)(),e),...r}));z.displayName=w.displayName;let B=r.forwardRef(({className:e,...r},l)=>(0,a.jsx)(A,{ref:l,className:(0,S.cn)((0,E.buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));B.displayName=A.displayName,e.s(["AlertDialog",()=>m,"AlertDialogAction",()=>z,"AlertDialogCancel",()=>B,"AlertDialogContent",()=>I,"AlertDialogDescription",()=>k,"AlertDialogFooter",()=>H,"AlertDialogHeader",()=>M,"AlertDialogTitle",()=>P,"AlertDialogTrigger",()=>p],68499)},15288,e=>{"use strict";var a=e.i(43476),r=e.i(71645),l=e.i(75157);let t=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));t.displayName="Card";let s=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...r}));s.displayName="CardHeader";let i=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));i.displayName="CardTitle";let o=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...r}));o.displayName="CardDescription";let n=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...r}));n.displayName="CardContent";let d=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...r}));d.displayName="CardFooter",e.s(["Card",()=>t,"CardContent",()=>n,"CardDescription",()=>o,"CardFooter",()=>d,"CardHeader",()=>s,"CardTitle",()=>i])},84774,e=>{"use strict";var a=e.i(43476),r=e.i(71645),l=e.i(75157);let t=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",e),...r})}));t.displayName="Table";let s=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",e),...r}));s.displayName="TableHeader";let i=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...r}));i.displayName="TableBody";let o=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));o.displayName="TableFooter";let n=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));n.displayName="TableRow";let d=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));d.displayName="TableHead";let c=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));c.displayName="TableCell",r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption",e.s(["Table",()=>t,"TableBody",()=>i,"TableCell",()=>c,"TableFooter",()=>o,"TableHead",()=>d,"TableHeader",()=>s,"TableRow",()=>n])},74323,e=>{"use strict";let a=(0,e.i(75254).default)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);e.s(["PlusCircle",()=>a],74323)},97245,e=>{"use strict";var a=e.i(35684),r=e.i(96226);function l(e,l){let t=(0,a.toDate)(e);if(isNaN(l))return(0,r.constructFrom)(e,NaN);if(!l)return t;let s=t.getDate(),i=(0,r.constructFrom)(e,t.getTime());return(i.setMonth(t.getMonth()+l+1,0),s>=i.getDate())?i:(t.setFullYear(i.getFullYear(),i.getMonth(),s),t)}e.s(["addMonths",()=>l])},39189,e=>{"use strict";var a=e.i(35684),r=e.i(96226);function l(e,l){let t=(0,a.toDate)(e);return isNaN(l)?(0,r.constructFrom)(e,NaN):(l&&t.setDate(t.getDate()+l),t)}e.s(["addDays",()=>l])},65117,e=>{"use strict";var a=e.i(43476),r=e.i(71645),l=e.i(15288),t=e.i(19455),s=e.i(41071),i=e.i(74323),o=e.i(76639),n=e.i(68499),d=e.i(55764),c=e.i(10204);e.i(11981);var u=e.i(61480),m=e.i(80428),p=e.i(4089);e.i(36180);var x=e.i(17875);e.i(51718);var h=e.i(41264),g=e.i(8406),f=e.i(84774),j=e.i(55146),N=e.i(4583),y=e.i(67489),b=e.i(39189),v=e.i(97245),C=e.i(96226),D=e.i(35684);function w(e,a){let{years:r=0,months:l=0,weeks:t=0,days:s=0,hours:i=0,minutes:o=0,seconds:n=0}=a,d=(0,D.toDate)(e),c=l||r?(0,v.addMonths)(d,l+12*r):d,u=s||t?(0,b.addDays)(c,s+7*t):c;return(0,C.constructFrom)(e,u.getTime()+1e3*(n+60*(o+60*i)))}var T=e.i(45919);function A(){let e=(0,u.useFirestore)(),b=(0,u.useAuth)(),{toast:v}=(0,g.useToast)(),{user:C}=(0,p.useUser)(),{userProfile:D,loading:A}=(0,N.useUserProfile)(C?.uid),R=r.default.useMemo(()=>e&&C&&D?.role==="Admin"?(0,x.query)((0,x.collection)(e,"users"),(0,x.where)("createdBy","==",C.uid)):null,[e,C,D]),{data:S,loading:E,error:F}=(0,m.useCollection)({query:R,disabled:!R}),[I,M]=(0,r.useState)(!1),[H,P]=(0,r.useState)(!1),[k,z]=(0,r.useState)(!1),[B,U]=(0,r.useState)({email:"",displayName:"",plan:"Individual"}),[O,L]=(0,r.useState)(null),[V,$]=(0,r.useState)(null),[q,G]=(0,r.useState)("30"),[Y,K]=(0,r.useState)(""),[W,_]=(0,r.useState)(!1),J=async()=>{if(!b||!e||!C)return void v({variant:"destructive",title:"Error",description:"Servicios de Firebase no disponibles."});if(!B.email)return void v({variant:"destructive",title:"Error",description:"Por favor, complete el correo electrónico."});_(!0);try{let a,r=new Date;if("30"===q)a=(0,T.format)(w(r,{days:30}),"yyyy-MM-dd");else if("60"===q)a=(0,T.format)(w(r,{days:60}),"yyyy-MM-dd");else{if(!Y){v({variant:"destructive",title:"Error",description:"Por favor, selecciona una fecha de finalización personalizada."}),_(!1);return}a=Y}let l=Math.random().toString(36).slice(-8)+"A1!",t=(await (0,h.createUserWithEmailAndPassword)(b,B.email,l)).user,s={uid:t.uid,email:t.email,displayName:B.displayName||t.email.split("@")[0],role:"Accountant",plan:B.plan,subscriptionEndDate:a,photoURL:`https://i.pravatar.cc/150?u=${t.uid}`,companyIds:{},createdBy:C.uid};await (0,x.setDoc)((0,x.doc)(e,"users",t.uid),s),await (0,h.sendPasswordResetEmail)(b,t.email),v({title:"Usuario Creado y Correo Enviado",description:`Se ha enviado un correo a ${t.email} para que establezca su contrase\xf1a.`}),M(!1)}catch(e){console.error("Error creating user:",e),"auth/email-already-in-use"===e.code?v({variant:"destructive",title:"Error al Crear Usuario",description:"El correo electrónico ya está en uso."}):v({variant:"destructive",title:"Error al Crear Usuario",description:"Ocurrió un error inesperado."})}finally{_(!1)}},Q=async()=>{if(!e||!O||!O.uid)return;_(!0);let a=(0,x.doc)(e,"users",O.uid);try{await (0,x.updateDoc)(a,{displayName:O.displayName,plan:O.plan,subscriptionEndDate:O.subscriptionEndDate}),v({title:"Usuario actualizado",description:"Los cambios han sido guardados."}),P(!1)}catch(e){v({variant:"destructive",title:"Error al actualizar",description:"No se pudieron guardar los cambios."}),console.error("Error updating user:",e)}finally{_(!1)}},X=async()=>{if(!e||!V)return;_(!0);let a=(0,x.doc)(e,"users",V.uid);try{await (0,x.deleteDoc)(a),v({title:"Perfil de usuario eliminado",description:`El perfil de ${V.displayName} ha sido eliminado de la aplicaci\xf3n.`}),z(!1),$(null)}catch(e){v({variant:"destructive",title:"Error al eliminar",description:"No se pudo eliminar el perfil del usuario."}),console.error("Error deleting user:",e)}finally{_(!1)}},Z=(e,a)=>{U(r=>({...r,[e]:a}))},ee=(e,a)=>{L(r=>r?{...r,[e]:a}:null)},ea=!A&&D?.role==="Admin";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.Card,{children:[(0,a.jsx)(l.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.CardTitle,{children:"Gestión de Usuarios"}),(0,a.jsx)(l.CardDescription,{children:"Invita nuevos contadores y gestiona sus perfiles."})]}),(0,a.jsxs)(t.Button,{size:"sm",className:"gap-1",onClick:()=>{U({email:"",displayName:"",plan:"Individual"}),G("30"),K(""),M(!0)},disabled:!ea,children:[(0,a.jsx)(i.PlusCircle,{className:"h-4 w-4"}),"Agregar Usuario"]})]})}),(0,a.jsx)(l.CardContent,{children:(0,a.jsxs)(f.Table,{children:[(0,a.jsx)(f.TableHeader,{children:(0,a.jsxs)(f.TableRow,{children:[(0,a.jsx)(f.TableHead,{children:"Nombre"}),(0,a.jsx)(f.TableHead,{children:"Email"}),(0,a.jsx)(f.TableHead,{children:"Rol"}),(0,a.jsx)(f.TableHead,{children:(0,a.jsx)("span",{className:"sr-only",children:"Acciones"})})]})}),(0,a.jsx)(f.TableBody,{children:E?(0,a.jsx)(f.TableRow,{children:(0,a.jsx)(f.TableCell,{colSpan:4,className:"h-24 text-center",children:(0,a.jsx)("p",{children:"Cargando usuarios..."})})}):F?(0,a.jsx)(f.TableRow,{children:(0,a.jsxs)(f.TableCell,{colSpan:4,className:"h-24 text-center text-destructive",children:[(0,a.jsx)("p",{className:"font-bold",children:"Error de permisos."}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Asegúrate de tener los permisos correctos en las reglas de Firestore para listar usuarios."})]})}):S&&0!==S.length?S.map(e=>(0,a.jsxs)(f.TableRow,{children:[(0,a.jsx)(f.TableCell,{className:"font-medium",children:e.displayName}),(0,a.jsx)(f.TableCell,{children:e.email}),(0,a.jsx)(f.TableCell,{children:e.role}),(0,a.jsx)(f.TableCell,{children:(0,a.jsxs)(j.DropdownMenu,{children:[(0,a.jsx)(j.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(t.Button,{"aria-haspopup":"true",size:"icon",variant:"ghost",disabled:W,children:[(0,a.jsx)(s.MoreHorizontal,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle menu"})]})}),(0,a.jsxs)(j.DropdownMenuContent,{align:"end",children:[(0,a.jsx)(j.DropdownMenuLabel,{children:"Acciones"}),(0,a.jsx)(j.DropdownMenuItem,{onSelect:()=>{L(e),P(!0)},children:"Editar Usuario"}),(0,a.jsx)(j.DropdownMenuSeparator,{}),(0,a.jsx)(j.DropdownMenuItem,{onSelect:()=>{$(e),z(!0)},className:"text-destructive",children:"Eliminar Perfil"})]})]})})]},e.uid)):(0,a.jsx)(f.TableRow,{children:(0,a.jsx)(f.TableCell,{colSpan:4,className:"h-24 text-center",children:"No has creado usuarios. ¡Agrega tu primer contador!"})})})]})})]}),(0,a.jsx)(o.Dialog,{open:I,onOpenChange:M,children:(0,a.jsxs)(o.DialogContent,{className:"sm:max-w-md",children:[(0,a.jsxs)(o.DialogHeader,{children:[(0,a.jsx)(o.DialogTitle,{children:"Invitar Nuevo Contador"}),(0,a.jsx)(o.DialogDescription,{children:"Completa los detalles y la duración de la suscripción. Se enviará un correo para que el usuario establezca su contraseña."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(c.Label,{htmlFor:"new-name",className:"text-right",children:"Nombre"}),(0,a.jsx)(d.Input,{id:"new-name",value:B.displayName||"",onChange:e=>Z("displayName",e.target.value),className:"col-span-3",placeholder:"Alex Doe"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(c.Label,{htmlFor:"new-email",className:"text-right",children:"Email"}),(0,a.jsx)(d.Input,{id:"new-email",type:"email",value:B.email||"",onChange:e=>Z("email",e.target.value),className:"col-span-3",placeholder:"usuario@contador.com"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(c.Label,{htmlFor:"new-plan",className:"text-right",children:"Plan"}),(0,a.jsxs)(y.Select,{value:B.plan,onValueChange:e=>Z("plan",e),children:[(0,a.jsx)(y.SelectTrigger,{id:"new-plan",className:"col-span-3",children:(0,a.jsx)(y.SelectValue,{})}),(0,a.jsxs)(y.SelectContent,{children:[(0,a.jsx)(y.SelectItem,{value:"Demo",children:"Demo"}),(0,a.jsx)(y.SelectItem,{value:"Individual",children:"Individual"}),(0,a.jsx)(y.SelectItem,{value:"Team",children:"Equipo"}),(0,a.jsx)(y.SelectItem,{value:"Enterprise",children:"Empresarial"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(c.Label,{htmlFor:"subscription-duration",className:"text-right",children:"Duración"}),(0,a.jsxs)(y.Select,{value:q,onValueChange:G,children:[(0,a.jsx)(y.SelectTrigger,{id:"subscription-duration",className:"col-span-3",children:(0,a.jsx)(y.SelectValue,{})}),(0,a.jsxs)(y.SelectContent,{children:[(0,a.jsx)(y.SelectItem,{value:"30",children:"30 días"}),(0,a.jsx)(y.SelectItem,{value:"60",children:"60 días"}),(0,a.jsx)(y.SelectItem,{value:"custom",children:"Personalizado"})]})]})]}),"custom"===q&&(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(c.Label,{htmlFor:"custom-date",className:"text-right",children:"Fecha Fin"}),(0,a.jsx)(d.Input,{id:"custom-date",type:"date",value:Y,onChange:e=>K(e.target.value),className:"col-span-3"})]})]}),(0,a.jsxs)(o.DialogFooter,{children:[(0,a.jsx)(o.DialogClose,{asChild:!0,children:(0,a.jsx)(t.Button,{type:"button",variant:"secondary",disabled:W,children:"Cancelar"})}),(0,a.jsx)(t.Button,{type:"submit",onClick:J,disabled:W,children:W?"Creando...":"Crear e Invitar"})]})]})}),(0,a.jsx)(o.Dialog,{open:H,onOpenChange:P,children:(0,a.jsxs)(o.DialogContent,{className:"sm:max-w-lg",children:[(0,a.jsxs)(o.DialogHeader,{children:[(0,a.jsx)(o.DialogTitle,{children:"Editar Usuario"}),(0,a.jsx)(o.DialogDescription,{children:"Modifica el nombre, el plan y la fecha de vencimiento de la suscripción del usuario."})]}),O&&(0,a.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(c.Label,{htmlFor:"edit-name",className:"text-right",children:"Nombre"}),(0,a.jsx)(d.Input,{id:"edit-name",value:O.displayName||"",onChange:e=>ee("displayName",e.target.value),className:"col-span-3"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(c.Label,{htmlFor:"edit-plan",className:"text-right",children:"Plan"}),(0,a.jsx)("p",{className:"col-span-3 text-sm font-medium p-2 rounded-md bg-muted",children:O.plan||"No asignado"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(c.Label,{htmlFor:"edit-subscription-date",className:"text-right",children:"Fin Suscripción"}),(0,a.jsx)(d.Input,{id:"edit-subscription-date",type:"date",value:O.subscriptionEndDate||"",onChange:e=>ee("subscriptionEndDate",e.target.value),className:"col-span-3"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground col-span-4 text-center",children:"Nota: El cambio de plan debe ser gestionado por el usuario a través de la página de facturación."})]}),(0,a.jsxs)(o.DialogFooter,{children:[(0,a.jsx)(o.DialogClose,{asChild:!0,children:(0,a.jsx)(t.Button,{type:"button",variant:"secondary",disabled:W,children:"Cancelar"})}),(0,a.jsx)(t.Button,{type:"submit",onClick:Q,disabled:W,children:W?"Guardando...":"Guardar Cambios"})]})]})}),(0,a.jsx)(n.AlertDialog,{open:k,onOpenChange:z,children:(0,a.jsxs)(n.AlertDialogContent,{children:[(0,a.jsxs)(n.AlertDialogHeader,{children:[(0,a.jsx)(n.AlertDialogTitle,{children:"¿Estás seguro de eliminar este perfil?"}),(0,a.jsxs)(n.AlertDialogDescription,{children:["Esta acción eliminará el perfil de ",(0,a.jsx)("span",{className:"font-bold",children:V?.displayName})," de la base de datos de la aplicación. No se puede deshacer. Para eliminar completamente la autenticación del usuario, deberás hacerlo desde la Consola de Firebase."]})]}),(0,a.jsxs)(n.AlertDialogFooter,{children:[(0,a.jsx)(n.AlertDialogCancel,{onClick:()=>$(null),children:"Cancelar"}),(0,a.jsx)(n.AlertDialogAction,{className:(0,t.buttonVariants)({variant:"destructive"}),onClick:X,disabled:W,children:W?"Eliminando...":"Sí, eliminar perfil"})]})]})})]})}e.s(["default",()=>A],65117)},65836,e=>{"use strict";var a=e.i(43476),r=e.i(65117);function l(){return(0,a.jsx)(r.default,{})}e.s(["default",()=>l])}]);